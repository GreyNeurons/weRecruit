{%extends "app_header.html" %}
{%block content%}
<section class ="container is-fullheight">
  <div class = "block has-text-left">
    <span class="title has-text-info">Job Browser</span><br>
    <span class="is-size-7 has-text-info">Browse thru existing job postings & take various steps like shortlisting candidates or updating status of each job posting.</span>
  </div>

    
        <div class="table-container">
          <table class="table">
            <!-- Your table content -->
            <tbody>
            {% for jd in jdList %}
              {%if loop.first %}
                <thead>
                  <tr class="has-background-dark">
                    <th class="has-text-centered has-text-light">JOB ID</th>
                    <th class="has-text-centered has-text-light">CLIENT</th>
                    <th class="has-text-centered has-text-light">STATUS</th>
                    <th class="has-text-centered has-text-light">TITLE</th>
                    <th class="has-text-centered has-text-light">OPEN DATE</th>
                    <th class="has-text-centered has-text-light">HIRING MANAGER</th>
                    <th class="has-text-centered has-text-light"></th>
                  </tr>
                </thead>
              {%endif %}
              <tr class="has-background-dark">
                <td class="has-text-centered has-text-light">{{ jd.id }}</td>
                <td class="has-text-centered has-text-light">{{ jd.client }}</td>
                <td class="has-text-centered has-text-light">{{ jd.status }}</td>
                <td class="has-text-centered has-text-light">{{ jd.title }}</td>
                <td class="has-text-centered has-text-light">{{ jd.open_date.strftime("%Y-%b-%d") }}</td> 
                <td class="has-text-centered has-text-light">{{ jd.hiring_mgr_name }}</td>
                <td class="has-text-centered has-text-light">
                  <div class="dropdown is-hoverable">
                    <div class="dropdown-trigger">
                      <button class="button is-info" aria-haspopup="true" aria-controls="dropdown-menu">
                        <span>Actions</span>
                        <span class="icon is-small">
                          <i class="fas fa-angle-down" aria-hidden="true"></i>
                        </span>
                      </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu" role="menu">
                      <div class="dropdown-content">
                        <a class="dropdown-item" title ="Click to browse thru existing resumes & shortlist them" href="/jd/showShortlistPage/{{jd.id}}">Shortlist candidates</a>
                        <a class="dropdown-item" title ="Click to see all shortlisted candidates & take further action" href="/jd/showWorkPage/{{jd.id}}">View shortlisted candidates</a>
                        <a class="dropdown-item" title ="Click to show summary." href="/jd/showSummaryPage/{{jd.id}}" >View Status Summary</a>
                        <a class="dropdown-item" title ="Click to edit this job posting." href="/jd/showEditPage/{{jd.id}}" >Edit</a>    
                      </div>
                    </div>    
                </div> 
                </td>       
  
              </tr>
            {% else %}
              <div class="notification is-warning">
                No JDs found !!!
              </div>
            {% endfor %}
          </tbody>
          </table>
        </div>  
</section>
{% endblock %}
